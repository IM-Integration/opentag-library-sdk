<div id="header">
  <h1>Open tag</h1>
</div>	
<div id="content">
  <h2>Tag Library Testing Page</h2>
  <div class="global-buttons"><a href="#-1" onclick="runAllTests()"><i class="fa fa-rocket"></i> Run all tests</a></div>
  <p>Use this page to test your tag library settings.</p>

  <script>
    function showButtonHandler(node) {
      var shown = node.parentNode.className.indexOf("show") !== -1;
      qubit.opentag.Utils.removeClass(node.parentNode, shown ? "show" : "hide");
      qubit.opentag.Utils.addClass(node.parentNode, shown ? "hide" : "show");
      node.innerHTML = shown ? "show" : "hide";
    }
    function onFocusInput(node) {
      if (!node.entered && node.value === '') {
        node.entered = true;
        node.className = '';
        node.value = '';
      }
    }
    function onBlurInput(node) {
      if (!node.value) {
        node.value = '';
        node.entered = false;
        node.className = 'red';
      }
    }
  </script>

  <div id="trash" style="display:none">
    <!--
    
    
          TEMPLATES AREA, ALWAYS DISPLAY NONE
    
    
    -->
    
    <div id="vendor-template"></div>

    <div id="library-template">
      <div class="library-title">
        <div class="status"></div>
        <div class="title"></div>
      </div>
      <a href="#-4" class="show-hide-library" onclick="showButtonHandler(this)">show</a>
      <button class="test-library" onclick="testTag(this.parentNode)" alt="Run script"><i class="fa fa-play-circle"></i> Run script</button>
      <button class="open-editor" onclick="openInEditor(this.parentNode)" alt="Edit source"><i class="fa fa-code"></i> Edit</button>
      <button class="reload" onclick="reloadTag(this.parentNode)" alt="Refresh script"><i class="fa fa-refresh"></i> Reload</button>
      <button class="run-tests" onclick="runTests(this.parentNode)" alt="run tests"><i class="fa fa-rocket"></i> Run test</button>
      <div class="contents">
        <div class="head"><div class="desc"></div></div>
        <div class="content-body"></div>
      </div>
    </div>

    <div id="parameters-template">
      <div class="parameter-header">
        Parameters <a href="#-3" onclick="saveConfig(this)">save</a>
      </div>
      <div class="contents"></div>
    </div>
    
    <div id="parameter-template">
      <div class="parameter">
        <label></label>
        <input type="text" onfocus=" onFocusInput(this)" onblur="onBlurInput(this)"></input>
      </div>
    </div>

    <div id="parameter-template">
      <div class="parameter">
        <label></label>
        <input type="text" onfocus=" onFocusInput(this)" onblur="onBlurInput(this)"></input>
      </div>
    </div>

    <div id="config-template">
      <div class="parameter">
        <label></label>
        <input type="text"></input>
      </div>
    </div>


    <div id="toggled-config-template">
      <div class="hidden-parameters">
        <a href="#-3" onclick="toggleShowSibling(this);"></a>
        <div class="hidden-config"></div>
      </div>
    </div>

    <div id="pre-post-script-template">
      <div class="pre">
        <a href="#-2" onclick="toggleShowSibling(this);">+ Pre function contents</a>
        <textarea onkeydown="fitTextarea(this)"></textarea>
      </div>
      <div class="post">
        <a href="#-2" onclick="toggleShowSibling(this);">+ Post function contents</a>
        <textarea onkeydown="fitTextarea(this)"></textarea>
      </div>
      <div class="script">
        <a href="#-2" onclick="toggleShowSibling(this);">+ Script function contents</a>
        <textarea onkeydown="fitTextarea(this)"></textarea>
      </div>
    </div>

    <div id="unit-tests-suite-template">
      <div class="unit-tests-head">
        Unit tests <a href="#-5" onclick="addEditTests(this)">add or edit tests</a>
      </div>
      <!--div class="expression-before">
        Before
        <textarea readonly>before tests...</textarea>
      </div>
      <div class="expression-after">
        After
        <textarea readonly>after tests...</textarea>
      </div-->
      <div class="unit-tests"></div>
    </div>
    
    <div id="unit-test-template">
      <div class="status"></div>
      <div class="name"></div>
    </div>
    
    <div id="progress-bar-template">
      <div class="wrapper">
        <div class="bar">
          <div class="title"></div>
          <div class="progress"></div>
        </div>
      </div>
    </div>
    
    <div id="console-template">
      <div class="console-head"><a href="#-1" onclick="toggleConsole()"><i class="fa fa-terminal"></i> Toggle console</a></div>
      <div class="console-body"></div>
    </div>
    <div id="console-msg-template">
      <div class="msg-head"></div>
      <pre class="msg-body"></pre>
    </div>
  </div>

  <script>
    function main() {
      if(Main){
        Main();
      } else {
        setTimeout(main, 50);
      }
    }
  </script>

  <div id="tester">
    <div id="libraries"></div>
    <div id="page-variables"></div>
  </div>
  
  <div id="unit-tests">
    
  </div>
  
  <script src='js/utils.js'></script>
  <script src='js/script.js'></script>
  <script src='../../../shared/js/qtest.js'></script>
  
  <!--SOURCES-->
  <div id="sources-content">
    <h3>Source files</h3>
    <div id="sources"></div>
  </div>
