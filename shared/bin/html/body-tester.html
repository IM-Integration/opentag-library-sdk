<h3>Tag Library Testing Page.</h3>
<h4>Sources </h4>
<div class="hide">
  Sources links list 
  <a href="#-1" class="showhide" onclick="this.parentNode.className = (this.innerHTML); (this.innerHTML === 'show') ? this.innerHTML='hide' : this.innerHTML='show';">show</a>
  <div id="sources"></div>
</div>
<style>
  #sources{
    padding: 8px;
  }
</style>

<script>
  function showButtonHandler(node) {
    node.parentNode.className = ('library ' + node.innerHTML);
    (node.innerHTML === 'show')  ? node.innerHTML='hide' : node.innerHTML='show';
  }
  function onFocusInput(node) {
    if (!node.entered) {
      node.entered = true;
      node.className = '';
      node.value = '';
    }
  }
  function onBlurInput(node) {
    if (!node.value) {
      node.value = 'enter value...';
      node.entered = false;
      node.className = 'red';
    }
  }
</script>
    
<div id="trash" style="display:none">
  <div id="vendor-template"></div>
  
  <div id="library-template">
    <div class="library-title">
    </div>
    <button class="showhide" onclick="showButtonHandler(this)">show</button>
    <button class="test-library" onmousedown="testTag(this.parentNode)">run</button>
    <button class="save-to-main" onmousedown="saveConfig(this.parentNode)">save this configuration</button>
    <div class="contents"></div>
  </div>
  
  <div id="parameter-template">
    <div class="parameter">
      <label></label>
      <input type="text" onfocus=" onFocusInput(this)" onblur="onBlurInput(this)"></input>
    </div>
  </div>
  
  <div id="config-template">
    <div class="parameter">
      <label></label>
      <input type="text" onffocus="if(!this.entered) {this.entered = true;this.value='';}" onbblur="if(!this.value) {this.value = 'enter value...'; this.entered = false;}"></input>
    </div>
  </div>
  
  <div id="pre-post-script-template">
    <div class="pre">
      <a href="#-2" onclick="toggleShowSibling(this);">show pre function</a>
      <textarea onkeydown="fitTextarea(this)"></textarea>
    </div>
    <div class="post">
      <a href="#-2" onclick="toggleShowSibling(this);">show post function</a>
      <textarea onkeydown="fitTextarea(this)"></textarea>
    </div>
    <div class="script">
      <a href="#-2" onclick="toggleShowSibling(this);">show script function</a>
      <textarea onkeydown="fitTextarea(this)"></textarea>
    </div>
  </div>
  
</div>



<script>
  function main() {
    var html = "<div>";
    var scripts = document.getElementsByTagName("script");
    for(var i =0 ; i < scripts.length; i++) {
      var src = scripts[i].getAttribute("src");
      if (src) {
        html += "<a href='" +  src + "' target='frame" + i + "' >" +
                src +
                "</a><br/>";
      }
    }
    html += "</div>";
    document.getElementById("sources").innerHTML = html;
  }
</script>

<div id="tester">
  <div id="libraries"></div>
  <div id="page-variables"></div>
</div>
<script src='script.js'></script>
<link media="all" type="text/css" rel="stylesheet" href="style.css">
<script>
   window.callScript();
</script>
